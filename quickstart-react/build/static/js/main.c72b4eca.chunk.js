(this["webpackJsonpmonday-integration-quickstart-app"]=this["webpackJsonpmonday-integration-quickstart-app"]||[]).push([[0],{28:function(t,e,o){},29:function(t,e,o){},46:function(t,e,o){},63:function(t,e,o){"use strict";o.r(e);var a=o(0),n=o.n(a),r=o(3),l=o.n(r),i=(o(28),o(17)),s=o(18),c=o(23),u=o(21),d=(o(29),o(19)),p=o.n(d),m=o(1),v=Object(a.memo)((function(t){var e=t.data;return n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{type:"target",position:"left",style:{background:"var(--color-mud_black)"},onConnect:function(t){return console.log("handle onConnect",t)}}),n.a.createElement(m.a,{type:"source",position:"top",style:{background:"var(--color-mud_black)"}}),n.a.createElement(m.a,{type:"source",position:"right",style:{background:"var(--color-mud_black)"}}),n.a.createElement(m.a,{type:"source",position:"bottom",style:{background:"var(--color-mud_black)"}}),n.a.createElement("h4",null,null===e||void 0===e?void 0:e.label),n.a.createElement("div",{style:{style:"flex"}},n.a.createElement("p",null,"The background color should change based on whether or not it's done, in progress, or stuck.")))})),b=Object(a.memo)((function(t){var e=t.data;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{position:"fixed",background:null===e||void 0===e?void 0:e.groupColor,height:"16px",borderRadius:"8px",top:"0px",left:"0px",right:"0px"}},n.a.createElement("div",{style:{position:"absolute",background:null===e||void 0===e?void 0:e.groupColor,height:"8px",bottom:"0px",left:"0px",right:"0px"}})),n.a.createElement(m.a,{type:"target",position:"top",id:"t",style:{background:"var(--color-mud_black)"}}),n.a.createElement(m.a,{type:"source",position:"bottom",id:"b",style:{background:"var(--color-mud_black)"}}),n.a.createElement(m.a,{type:"source",position:"right",id:"r",style:{background:"var(--color-mud_black)"}}),n.a.createElement(m.a,{type:"source",position:"left",id:"l",style:{background:"var(--color-mud_black)"},onConnect:function(t){return console.log("handle onConnect",t)}}),n.a.createElement("h4",null,null===e||void 0===e?void 0:e.label),n.a.createElement("div",{style:{maxWidth:"150px"}},n.a.createElement("h4",null,"Group: ",null===e||void 0===e?void 0:e.group),n.a.createElement("p",null,null===e||void 0===e?void 0:e.title)),n.a.createElement("div",{style:{textAlign:"center",background:null===e||void 0===e?void 0:e.statusData.color,borderRadius:"4px",padding:"4px"}},""===(null===e||void 0===e?void 0:e.statusData.status)?"Empty":e.statusData.status))})),g=(o(46),o(20)),h=o.n(g),f=(o(62),function(t){return n.a.createElement("div",{style:{zIndex:"100",position:"absolute",top:"0px",bottom:"0px",right:"0px",left:"0px",visibility:"hidden"}},n.a.createElement("span",{className:"ui-overlay-item"},null===t||void 0===t?void 0:t.children))}),y=p()(),x=function(t){Object(c.a)(o,t);var e=Object(u.a)(o);function o(t){var a;return Object(i.a)(this,o),(a=e.call(this,t)).state={settings:{},name:""},a}return Object(s.a)(o,[{key:"componentDidMount",value:function(){var t=this;y.listen("settings",(function(e){t.setState({settings:e.data})})),y.listen("context",(function(e){t.setState({context:e.data}),y.api("query ($boardIds: [Int]) \n      { \n        boards (ids:$boardIds) { \n          name \n          items { id name group {title color} column_values { title text } } \n          columns {\n            title\n            settings_str\n          }\n        } \n      }",{variables:{boardIds:t.state.context.boardIds}}).then((function(e){t.setState({boardData:e.data})}))})),y.listen("itemIds",(function(e){t.setState({filteredItems:e.data})}))}},{key:"render",value:function(){var t=null;var e={itmNode:v,prettyNode:b};if(null!=this.state.boardData){var o=this.state.boardData.boards,a=this.state.filteredItems;console.log("-----------------------"),console.log(this.state.boardData.boards),console.log("-----------------------");var r=o[0].columns,l=[];o.forEach((function(e,o){if(1!=e.name.indexOf("Subitems of")){var n=-1,i="",s={},c={},u=0;e.items.forEach((function(t,e){var o=t.group.title;o in s||(s[o]=u,c[o]=0,u++)})),e.items.forEach((function(e,u){var d=e.group.title,p=e.name,m=function(t,e){if(null==t)return"var(--color-snow_white)";var o="var(--color-jarco_gray)";return Object.entries(t).forEach((function(t,a){console.log("suggestion for "+e+": "+t[1]),e==t[1]&&(o="var(--color-snow_white)",console.log("Holy smokes, you did it! they're equal! now colorstring: "+o))})),o}(a,e.id),v=function(e,o){if(null==t){var a="pog";null===o||void 0===o||o.forEach((function(t,e){"Status"==t.title&&(a=t.settings_str)})),t={};var n=JSON.parse(a);Object.entries(n.labels).forEach((function(e){var o=e[0],a=e[1];t[a]=n.labels_colors[o].color}))}var r="";return null===e||void 0===e||e.forEach((function(t,e){"Status"===t.title&&(r=t.text)})),r in t?{status:r,color:t[r]}:{status:"",color:"var(--color-ui_grey)"}}(e.column_values,r);if(""!=e.column_values[0])e.column_values[0].text;l.push({id:e.id,type:"prettyNode",data:{title:p,group:d,groupColor:e.group.color,statusData:v},style:{padding:"16px",borderRadius:"8px",background:m,boxShadow:"0px 6px 20px -2px rgba(0, 0, 0, 0.2)"},position:{x:250*s[d]+1e3*o,y:250*c[d]}}),c[d]+=1,n>0&&i==d&&l.push({id:"e"+n+"-"+e.id,source:n,target:e.id,animated:!0}),n=e.id,i=d}))}}))}return n.a.createElement("div",{className:"App",style:{display:"block",background:"var(--color-mud_black)"}},n.a.createElement(m.b,{elements:l,nodeTypes:e,onElementClick:function(t,e){typeof e===typeof b?y.execute("openItemCard",{itemId:e.id,kind:"updates"}):alert("OH")}}),n.a.createElement(f,null,n.a.createElement("div",{style:{width:"100px",height:"100px",bottom:"0px",left:"0px"}},n.a.createElement("a",{href:"https://pisslake.github.io/"},n.a.createElement(h.a,null,"Pisslake")))))}}]),o}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[63,1,2]]]);
//# sourceMappingURL=main.c72b4eca.chunk.js.map